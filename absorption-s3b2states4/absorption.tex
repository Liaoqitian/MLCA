\documentclass{standalone}
\usepackage{xcolor,stackengine,pgffor}
\def\block#1{\kern-\fboxrule\fboxsep=0pt\fbox{\color{#1}\rule{1ex}{1ex}}}
\def\wh{\block{white}}
\setstackgap{S}{-\fboxrule}
\setstackEOL{\\}

\makeatletter
\def\definegrid[#1,#2]{%
  \def\grows{#1}%
  \def\gcols{#2}%
  \foreach\i in {1,...,#1}%
  {%
    \foreach\j in {1,...,#2}%
    {%
      \expandafter\gdef\csname grid[\i,\j]\endcsname{\wh}%
    }%
  }%
\ignorespaces}

\newcommand\drawgrid{%
  \def\stackbuild{}%
  \foreach\i in {1,...,\grows}%
  {%
    \ifnum\i=1\else\g@addto@macro\stackbuild{\\}\fi%
    \foreach\j in {1,...,\gcols}%
    {%
      \expandafter\g@addto@macro\expandafter\stackbuild\expandafter{%
        \csname grid[\i,\j]\endcsname}%
    }%
  }%
  \kern\fboxrule%
  \expandafter\Shortstack\expandafter{\stackbuild}%
}

\def\setgrid[#1,#2]#3{\expandafter\gdef\csname grid[#1,#2]\endcsname{\block{#3}}%
  \ignorespaces}
\makeatother
\begin{document}


\definegrid[8,20]

\setgrid[1,6]{lightgray}
\setgrid[1,7]{lightgray}
\setgrid[4,2]{lightgray}
\setgrid[5,4]{lightgray}
\setgrid[6,2]{lightgray}
\setgrid[6,6]{lightgray}
\setgrid[7,6]{lightgray}

\setgrid[2,6]{gray}
\setgrid[2,7]{gray}
\setgrid[4,3]{gray}
\setgrid[5,1]{gray}
\setgrid[5,5]{gray}
\setgrid[6,3]{gray}
\setgrid[6,7]{gray}
\setgrid[7,7]{gray}

\setgrid[3,6]{black}
\setgrid[3,7]{black}
\setgrid[4,4]{black}
\setgrid[5,6]{black}
\setgrid[6,4]{black}
\setgrid[6,8]{black}
\setgrid[7,8]{black}

\drawgrid

\definegrid[8,20]

\setgrid[2,6]{lightgray}
\setgrid[2,7]{lightgray}
\setgrid[4,3]{lightgray}
\setgrid[5,1]{lightgray}
\setgrid[5,5]{lightgray}
\setgrid[6,3]{lightgray}
\setgrid[6,7]{lightgray}
\setgrid[7,7]{lightgray}

\setgrid[3,6]{gray}
\setgrid[3,7]{gray}
\setgrid[4,4]{gray}
\setgrid[5,6]{gray}
\setgrid[6,4]{gray}
\setgrid[6,8]{gray}
\setgrid[7,8]{gray}

\setgrid[3,5]{black}
\setgrid[5,3]{black}
\setgrid[5,7]{black}
\setgrid[6,5]{black}
\setgrid[6,9]{black}
\setgrid[7,9]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,6]{lightgray}
\setgrid[3,7]{lightgray}
\setgrid[4,4]{lightgray}
\setgrid[5,6]{lightgray}
\setgrid[6,4]{lightgray}
\setgrid[6,8]{lightgray}
\setgrid[7,8]{lightgray}

\setgrid[3,5]{gray}
\setgrid[5,3]{gray}
\setgrid[5,7]{gray}
\setgrid[6,5]{gray}
\setgrid[6,9]{gray}
\setgrid[7,9]{gray}

\setgrid[4,6]{black}
\setgrid[5,4]{black}
\setgrid[5,8]{black}
\setgrid[6,6]{black}
\setgrid[6,10]{black}
\setgrid[7,10]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,5]{lightgray}
\setgrid[5,3]{lightgray}
\setgrid[5,7]{lightgray}
\setgrid[6,5]{lightgray}
\setgrid[6,9]{lightgray}
\setgrid[7,9]{lightgray}

\setgrid[4,6]{gray}
\setgrid[5,4]{gray}
\setgrid[5,8]{gray}
\setgrid[6,6]{gray}
\setgrid[6,10]{gray}
\setgrid[7,10]{gray}

\setgrid[4,5]{black}
\setgrid[4,7]{black}
\setgrid[5,9]{black}
\setgrid[6,7]{black}
\setgrid[6,11]{black}
\setgrid[7,11]{black}

\drawgrid

\definegrid[8,20]

\setgrid[4,6]{lightgray}
\setgrid[5,4]{lightgray}
\setgrid[5,8]{lightgray}
\setgrid[6,6]{lightgray}
\setgrid[6,10]{lightgray}
\setgrid[7,10]{lightgray}

\setgrid[4,5]{gray}
\setgrid[4,7]{gray}
\setgrid[5,9]{gray}
\setgrid[6,7]{gray}
\setgrid[6,11]{gray}
\setgrid[7,11]{gray}

\setgrid[3,6]{black}
\setgrid[4,8]{black}
\setgrid[5,10]{black}
\setgrid[6,8]{black}
\setgrid[6,12]{black}
\setgrid[7,12]{black}

\drawgrid

\definegrid[8,20]

\setgrid[4,5]{lightgray}
\setgrid[4,7]{lightgray}
\setgrid[5,9]{lightgray}
\setgrid[6,7]{lightgray}
\setgrid[6,11]{lightgray}
\setgrid[7,11]{lightgray}

\setgrid[3,6]{gray}
\setgrid[4,8]{gray}
\setgrid[5,10]{gray}
\setgrid[6,8]{gray}
\setgrid[6,12]{gray}
\setgrid[7,12]{gray}

\setgrid[3,7]{black}
\setgrid[4,9]{black}
\setgrid[5,7]{black}
\setgrid[5,11]{black}
\setgrid[6,9]{black}
\setgrid[6,13]{black}
\setgrid[7,13]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,6]{lightgray}
\setgrid[4,8]{lightgray}
\setgrid[5,10]{lightgray}
\setgrid[6,8]{lightgray}
\setgrid[6,12]{lightgray}
\setgrid[7,12]{lightgray}

\setgrid[3,7]{gray}
\setgrid[4,9]{gray}
\setgrid[5,7]{gray}
\setgrid[5,11]{gray}
\setgrid[6,9]{gray}
\setgrid[6,13]{gray}
\setgrid[7,13]{gray}

\setgrid[3,8]{black}
\setgrid[4,6]{black}
\setgrid[4,10]{black}
\setgrid[5,12]{black}
\setgrid[6,10]{black}
\setgrid[6,14]{black}
\setgrid[7,14]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,7]{lightgray}
\setgrid[4,9]{lightgray}
\setgrid[5,7]{lightgray}
\setgrid[5,11]{lightgray}
\setgrid[6,9]{lightgray}
\setgrid[6,13]{lightgray}
\setgrid[7,13]{lightgray}

\setgrid[3,8]{gray}
\setgrid[4,6]{gray}
\setgrid[4,10]{gray}
\setgrid[5,12]{gray}
\setgrid[6,10]{gray}
\setgrid[6,14]{gray}
\setgrid[7,14]{gray}

\setgrid[3,9]{black}
\setgrid[4,7]{black}
\setgrid[4,11]{black}
\setgrid[5,9]{black}
\setgrid[5,13]{black}
\setgrid[6,11]{black}
\setgrid[6,15]{black}
\setgrid[7,15]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,8]{lightgray}
\setgrid[4,6]{lightgray}
\setgrid[4,10]{lightgray}
\setgrid[5,12]{lightgray}
\setgrid[6,10]{lightgray}
\setgrid[6,14]{lightgray}
\setgrid[7,14]{lightgray}

\setgrid[3,9]{gray}
\setgrid[4,7]{gray}
\setgrid[4,11]{gray}
\setgrid[5,9]{gray}
\setgrid[5,13]{gray}
\setgrid[6,11]{gray}
\setgrid[6,15]{gray}
\setgrid[7,15]{gray}

\setgrid[3,10]{black}
\setgrid[4,12]{black}
\setgrid[5,8]{black}
\setgrid[5,14]{black}
\setgrid[6,12]{black}
\setgrid[6,16]{black}
\setgrid[7,16]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,9]{lightgray}
\setgrid[4,7]{lightgray}
\setgrid[4,11]{lightgray}
\setgrid[5,9]{lightgray}
\setgrid[5,13]{lightgray}
\setgrid[6,11]{lightgray}
\setgrid[6,15]{lightgray}
\setgrid[7,15]{lightgray}

\setgrid[3,10]{gray}
\setgrid[4,12]{gray}
\setgrid[5,8]{gray}
\setgrid[5,14]{gray}
\setgrid[6,12]{gray}
\setgrid[6,16]{gray}
\setgrid[7,16]{gray}

\setgrid[3,11]{black}
\setgrid[4,9]{black}
\setgrid[4,13]{black}
\setgrid[5,11]{black}
\setgrid[5,15]{black}
\setgrid[6,13]{black}
\setgrid[6,17]{black}
\setgrid[7,17]{black}

\drawgrid

\definegrid[8,20]

\setgrid[3,10]{lightgray}
\setgrid[4,12]{lightgray}
\setgrid[5,8]{lightgray}
\setgrid[5,14]{lightgray}
\setgrid[6,12]{lightgray}
\setgrid[6,16]{lightgray}
\setgrid[7,16]{lightgray}

\setgrid[3,11]{gray}
\setgrid[4,9]{gray}
\setgrid[4,13]{gray}
\setgrid[5,11]{gray}
\setgrid[5,15]{gray}
\setgrid[6,13]{gray}
\setgrid[6,17]{gray}
\setgrid[7,17]{gray}

\setgrid[3,12]{black}
\setgrid[4,14]{black}
\setgrid[5,10]{black}
\setgrid[5,16]{black}
\setgrid[6,14]{black}
\setgrid[6,18]{black}
\setgrid[7,18]{black}

\drawgrid


\definegrid[8,20]

\setgrid[3,11]{lightgray}
\setgrid[4,9]{lightgray}
\setgrid[4,13]{lightgray}
\setgrid[5,11]{lightgray}
\setgrid[5,15]{lightgray}
\setgrid[6,13]{lightgray}
\setgrid[6,17]{lightgray}
\setgrid[7,17]{lightgray}

\setgrid[3,12]{gray}
\setgrid[4,14]{gray}
\setgrid[5,10]{gray}
\setgrid[5,16]{gray}
\setgrid[6,14]{gray}
\setgrid[6,18]{gray}
\setgrid[7,18]{gray}

\setgrid[3,13]{black}
\setgrid[4,11]{black}
\setgrid[4,15]{black}
\setgrid[5,13]{black}
\setgrid[5,17]{black}
\setgrid[6,15]{black}
\setgrid[6,19]{black}
\setgrid[7,19]{black}

\drawgrid

\end{document} 